<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/Html.html to edit this template
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <div>
            <div>Si</div>
            <div id="si-counter"></div>
        </div>
        <div>
            <div>No</div>
            <div id="no-counter"></div>
        </div>
    </body>
    <script>
        function updateCounter(counter){
            document.getElementById("no-counter").textContent=counter.NO.toString();
            document.getElementById("si-counter").textContent=counter.SI.toString();
        }
        
        function updateLoop(){
            const req = new XMLHttpRequest();
            req.open("GET", "Counter");
            req.onreadystatechange = () => {
              if (req.readyState === 4) {
                updateCounter(JSON.parse(req.responseText));
              }
            };
            
            req.send();
            
            setTimeout(updateLoop, 1000);
        }
        
        updateLoop();
    </script>
</html>
